<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="士不可以不弘毅，任重而道远。"><title>微服务 | KAMI</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//fastly.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//fastly.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//fastly.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//fastly.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="/css/prettify/prettify.css"><script type="text/javascript" src="//fastly.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//fastly.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//fastly.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//fastly.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">微服务</h1><a id="logo" href="/.">KAMI</a><p class="description">士不可以不弘毅，任重而道远。</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/guestbook/"><i class="fa fa-book"> 留言</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">微服务</h1><div class="post-meta">May 18 2021<span> | </span><span class="category"><a href="/categories/架构/">架构</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 1k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 3</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#SOA"><span class="toc-number">1.</span> <span class="toc-text">SOA</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#微服务"><span class="toc-number">2.</span> <span class="toc-text">微服务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#链路治理"><span class="toc-number">2.1.</span> <span class="toc-text">链路治理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#通信协议"><span class="toc-number">2.2.</span> <span class="toc-text">通信协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#统一网关"><span class="toc-number">2.3.</span> <span class="toc-text">统一网关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#工程自动化"><span class="toc-number">2.4.</span> <span class="toc-text">工程自动化</span></a></li></ol></li></ol></div></div><div class="post-content"><p><strong>产业分工</strong>是产品成长过程中的必经阶段，但凡产品具有不断壮大的机会，规模也会不断扩大，相应的工艺也会逐渐复杂，这种情况下，<strong>模块化生产</strong>就是必要的生产方式。</p>
<p>之前在创业群里，有连续创业并成功的大佬就说过：“我们平时买的包子，里面就包含很多道工序，有人负责种麦子，有人负责养猪，有人负责加工面粉，有人负责杀猪，最后早餐店里员工进行产品包装。”</p>
<p>应用到软件架构，这些内在本质是相通的。随着用户量的不断增长，架构应对的数据规模也会逐渐发生质变，为什么几十年前不会诞生微服务这类概念，因为在那个时候互联网还远远不够目前的规模庞大。</p>
<a id="more"></a>
<h2 id="SOA"><a href="#SOA" class="headerlink" title="SOA"></a>SOA</h2><p>SOA(Service-Oriented Architecture)是一种支持面向服务的架构风格，定义了将业务功能服务化的架构思想，但从各种材料中，都只看到<strong>“粗粒度，松耦合”</strong>的描述和一直被诟病的<strong>ESB</strong>组件。</p>
<p>SOA提出了服务化分工协作的思想，将完整的集中式架构进行了拆分，但在具体实现过程中，又保留了对现有系统的复用要求，因此才有ESB的存在，相比后来出现的微服务架构，SOA在整体架构上，有着服务化的理念却不够彻底。</p>
<h2 id="微服务"><a href="#微服务" class="headerlink" title="微服务"></a>微服务</h2><p>相比于SOA，很多有一定经验的架构师在最初接触微服务时，都会觉得两者在整体上何其相似。</p>
<p>在一篇技术文章里，有这么一段总结：</p>
<p>“SOA的服务拆分建立在已有系统的基础上，不打破原有系统的整体架构，在接口集成时做的接口服务粒度的拆分，SOA架构通过对已有业务或系统的梳理来发现可提供复用的系统组件或功能，并统一通过Webservice来暴露接口。而目前流行的微服务架构的微服务组件的拆分则是将现有系统和业务重构，按照微服务的设计思路，将业务或系统打散成单个微服务组件，并基于微服务组件进行集成和组装编排，来生成全新的单体应用。”</p>
<p>由此看来，SOA架构实际上是集中式架构向服务化架构演化的过渡阶段，这种架构在短期阶段更适合已具备一定规模的企业，能快速继承现有业务系统，实现快速上线。</p>
<p>微服务架构包含的基本设施一般可以规划为以下几个分类：</p>
<h3 id="链路治理"><a href="#链路治理" class="headerlink" title="链路治理"></a>链路治理</h3><p>从集中式架构演化成服务化架构，必然会带来链路问题，由于微服务架构的各个服务都具备单独治理/部署的能力，导致原本集中式架构中能够确保的通信质量，在微服务架构中就难以得到相同指标的保障，因此微服务基础设施中，链路层的组件相对其他分类要多一些。</p>
<p>服务发现、路由、跟踪、监控、容错，这几类关键技术会一直围绕着链路层不断展开。</p>
<h3 id="通信协议"><a href="#通信协议" class="headerlink" title="通信协议"></a>通信协议</h3><p>与SOA架构不同的设计在于，微服务对通信和链路的要求更加轻量，服务与服务之间通过统一的协议进行数据交换，一般会采用RPC方式进行通信，早期不少企业也会直接采用HTTP协议进行通信。</p>
<h3 id="统一网关"><a href="#统一网关" class="headerlink" title="统一网关"></a>统一网关</h3><p>所有的服务相互协作，共同组织成一个完整的产品架构，由统一的网关负责对外提供产品服务，负责鉴权等等。</p>
<h3 id="工程自动化"><a href="#工程自动化" class="headerlink" title="工程自动化"></a>工程自动化</h3><p>由于产品规模的扩大，服务的拆分，人工测试与部署存在明显的效率低下问题。</p>
</div><div class="post-copyright"><script type="text/javascript" src="/js/copyright.js" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copyright.css"><p><span>本文标题：</span>微服务</p><p><span>文章作者：</span>Kami</p><p><span>发布时间：</span>May 18 2021</p><p><span>最后更新：</span>Jun 2 2022</p><p><span>原始链接：</span><a href="/2021/05/18/arch/microservice/service/">https://oldchan.net/2021/05/18/arch/microservice/service/</a><span class="copy-path"><i class="fa fa-clipboard" data-clipboard-text="https://oldchan.net/2021/05/18/arch/microservice/service/"></i></span></p><p><span>版权声明：</span>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0 CN</a> 许可协议。转载请注明出处！</p></div><br><script type="text/javascript" src="/js/share.js?v=1.0.0" async></script><a class="article-share-link" data-url="https://oldchan.net/2021/05/18/arch/microservice/service/" data-id="cl5uxiwus0014yau3v16fvkz5" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACJklEQVR42u3aS46DMBAFQO5/aWY7oyjktdtEg11eRVEAF4tOf3wc8Tp/rdfv331+XflVxx0LAwPjsYzzcuXbut5EH/bhKRgYGBsw3j34+jfX98nDdEL6sGcMDAyMeCt52pewMTAwMOYy8kA8FnwxMDAw8iKz2ulKNvrVWhwDA+OBjLzr/v3Pt8w3MDAwHsU4i6t6VZJWTtgVBgbG0oxq0z8vd6uF8dgQAgMDYx9GtbE1d0iQvIJCyMbAwFiOkbex8keODRhaKSYGBsbSjH7aN/bNWJuvMMLEwMBYiDF2hCJJ4DoJZf70P/8bGBgYizJmTQA7rbdq4njjIBMDA+MfM6ppYhWWDwauGYURAgYGxkKMsUSw2r6/I6S+zXAxMDAWZSTDxX5Zm6Sh1WujN42BgbEEY1bArSaR1QRxcEaKgYGxEOM6qOWhM0/pph0Ow8DA2ICRJIhjm87L1M6dMTAwdmDkI4GxoFxNFltnRjAwMJZj5MVqFTnWpKuG/qN6UwwMjMcyqg21sYSyf9jiwwvCwMDYgFE9HpEE09YJtWoox8DA2IbRmQyO8aIhZV6+YmBgLMc4i6vaSqsey8jbeRgYGPsw8jW3rI0Gk41GHgYGxnqMapusw5uQyfZPnGFgYDyWMavg7By/6OwWAwMDozpczMHJ8BIDAwNjjFGtifPh6GCYxsDA2ICRFLHVYWf12s7hVwwMjLUZs3pZ+QPGCte8CYiBgbEQ4wdJA5NhwV5fSgAAAABJRU5ErkJggg==">分享</a><div class="tags"><a href="/tags/微服务/"><i class="fa fa-tag"></i>微服务</a></div><div class="post-nav"><a class="pre" href="/2021/11/17/opinion/internet_and_metaverse/">互联网络与元宇宙</a><a class="next" href="/2021/04/06/arch/middleware/configuration/">配置服务迁移</a></div><div id="tcomment"></div><script src="https://fastly.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js"></script><script>twikoo.init({
  envId: 'thecxx-1gxw7szk895715fd',
  el: '#tcomment',
  region: 'ap-shanghai',
  path: ''
})</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/容器/">容器</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/架构/">架构</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/笔记/">笔记</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/系统/">系统</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程/">编程</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/长话/">长话</a><span class="category-list-count">4</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/容器化/" style="font-size: 15px;">容器化</a> <a href="/tags/思考/" style="font-size: 15px;">思考</a> <a href="/tags/元宇宙/" style="font-size: 15px;">元宇宙</a> <a href="/tags/cpu/" style="font-size: 15px;">cpu</a> <a href="/tags/博客/" style="font-size: 15px;">博客</a> <a href="/tags/中间件/" style="font-size: 15px;">中间件</a> <a href="/tags/微服务/" style="font-size: 15px;">微服务</a> <a href="/tags/go/" style="font-size: 15px;">go</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/windows/" style="font-size: 15px;">windows</a> <a href="/tags/注入/" style="font-size: 15px;">注入</a> <a href="/tags/golang/" style="font-size: 15px;">golang</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2022/07/10/notes/golang/advanced/g0/">Golang高级解读：g0</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/15/opinion/give_up_the_php/">6年前，决定不再继续精进PHP</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/05/05/opinion/good_product/">好的产品?</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/11/17/opinion/internet_and_metaverse/">互联网络与元宇宙</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/18/arch/microservice/service/">微服务</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/04/06/arch/middleware/configuration/">配置服务迁移</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/03/30/container/docker/minimum_ext/">最小化docker镜像(补充内容)</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/20/language/go/struct_like_class/">Go：实现类似class的析构函数</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/20/container/docker/minimum/">最小化docker镜像</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/11/os/cpu_and_time_management/">CPU的时间观念</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2022 <a href="/." rel="nofollow">KAMI.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//fastly.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="//fastly.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/prettify.js?v=1.0.0"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script><script type="text/javascript" src="/js/codeblock-render.js?v=1.0.0"></script></div></body></html>