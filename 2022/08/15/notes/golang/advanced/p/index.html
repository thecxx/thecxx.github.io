<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="士不可以不弘毅，任重而道远。"><title>Golang深度解读：P | KAMI</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//fastly.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//fastly.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//fastly.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//fastly.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="/css/prettify/prettify.css"><script type="text/javascript" src="//fastly.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//fastly.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//fastly.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//fastly.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Golang深度解读：P</h1><a id="logo" href="/.">KAMI</a><p class="description">士不可以不弘毅，任重而道远。</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/guestbook/"><i class="fa fa-book"> 留言</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Golang深度解读：P</h1><div class="post-meta">Aug 15 2022<span> | </span><span class="category"><a href="/categories/笔记/">笔记</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 1.1k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 4</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#P与G"><span class="toc-number">1.</span> <span class="toc-text">P与G</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#G的创建"><span class="toc-number">1.1.</span> <span class="toc-text">G的创建</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#P与M"><span class="toc-number">2.</span> <span class="toc-text">P与M</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#m0-g0-p0"><span class="toc-number">3.</span> <span class="toc-text">m0/g0/p0</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#P的数量"><span class="toc-number">4.</span> <span class="toc-text">P的数量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#P的职责"><span class="toc-number">5.</span> <span class="toc-text">P的职责</span></a></li></ol></div></div><div class="post-content"><p>通常，在各种技术文章中，P都是被定义成Processor，处理器？那么，Go定义的处理器与操作系统的处理器可以等价理解吗？两者具有相似的概念，但实现原理不同，<strong>系统线程</strong>基于<strong>CPU(操作系统的处理器)</strong>运行，Go定义的<strong>M</strong>基于<strong>系统线程</strong>创建，<strong>P(Processor)</strong>基于<strong>M</strong>运行。</p>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIzMzdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjI0M3B4O2hlaWdodDozMzdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAyNDMgMzM3IiB3aWR0aD0iMjQzcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tZW50aXR5IHAtLT48ZyBpZD0iZWxlbV9wIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI5IiB4PSIxNi41IiB5PSI3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOSIgeD0iMjYuNSIgeT0iMjkuOTk1MSI+UDwvdGV4dD48L2c+PCEtLWVudGl0eSBtLS0+PGcgaWQ9ImVsZW1fbSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIzMiIgeD0iMTUiIHk9IjEwMyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyIiB4PSIyNSIgeT0iMTI1Ljk5NTEiPk08L3RleHQ+PC9nPjwhLS1lbnRpdHkgZzAtLT48ZyBpZD0iZWxlbV9nMCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIzOCIgeD0iODIiIHk9IjEwMyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4IiB4PSI5MiIgeT0iMTI1Ljk5NTEiPmcwPC90ZXh0PjwvZz48IS0tZW50aXR5IGcxLS0+PGcgaWQ9ImVsZW1fZzEiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjkiIHg9IjgwLjUiIHk9IjciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5IiB4PSI5MC41IiB5PSIyOS45OTUxIj5nPC90ZXh0PjwvZz48IS0tZW50aXR5IGcyLS0+PGcgaWQ9ImVsZW1fZzIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjkiIHg9IjE0NC41IiB5PSI3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOSIgeD0iMTU0LjUiIHk9IjI5Ljk5NTEiPmc8L3RleHQ+PC9nPjwhLS1lbnRpdHkgZzMtLT48ZyBpZD0iZWxlbV9nMyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyOSIgeD0iMjA4LjUiIHk9IjciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5IiB4PSIyMTguNSIgeT0iMjkuOTk1MSI+ZzwvdGV4dD48L2c+PCEtLWVudGl0eSB0aHJlYWQtLT48ZyBpZD0iZWxlbV90aHJlYWQiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNDgiIHg9IjciIHk9IjE5OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI4IiB4PSIxNyIgeT0iMjIxLjk5NTEiPue6v+eoizwvdGV4dD48L2c+PCEtLWVudGl0eSBjcHUtLT48ZyBpZD0iZWxlbV9jcHUiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNDgiIHg9IjciIHk9IjI5NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI4IiB4PSIxNyIgeT0iMzE3Ljk5NTEiPkNQVTwvdGV4dD48L2c+PCEtLWxpbmsgcCB0byBnMS0tPjxnIGlkPSJsaW5rX3BfZzEiPjxwYXRoIGQ9Ik00NS43NSwyNSBDNTcuMjkzLDI1IDY4LjgzNTksMjUgODAuMzc4OSwyNSAiIGZpbGw9Im5vbmUiIGlkPSJwLWcxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjcuMCw3LjA7Ii8+PC9nPjwhLS1saW5rIGcxIHRvIGcyLS0+PGcgaWQ9ImxpbmtfZzFfZzIiPjxwYXRoIGQ9Ik0xMTAsMjUgQzEyMS40ODQsMjUgMTMyLjk2OSwyNSAxNDQuNDUzLDI1ICIgZmlsbD0ibm9uZSIgaWQ9ImcxLWcyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLWxpbmsgZzIgdG8gZzMtLT48ZyBpZD0ibGlua19nMl9nMyI+PHBhdGggZD0iTTE3My41LDI1IEMxODUuMTAyLDI1IDE5Ni43MDMsMjUgMjA4LjMwNSwyNSAiIGZpbGw9Im5vbmUiIGlkPSJnMi1nMyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1saW5rIHAgdG8gbS0tPjxnIGlkPSJsaW5rX3BfbSI+PHBhdGggZD0iTTMxLDQzLjI0MSBDMzEsNjAuMjAyIDMxLDg1Ljk0NSAzMSwxMDIuODY4ICIgZmlsbD0ibm9uZSIgaWQ9InAtbSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1saW5rIG0gdG8gZzAtLT48ZyBpZD0ibGlua19tX2cwIj48cGF0aCBkPSJNNDcuMTMyOCwxMjEgQzU4LjYzNTcsMTIxIDcwLjEzODYsMTIxIDgxLjY0MTUsMTIxICIgZmlsbD0ibm9uZSIgaWQ9Im0tZzAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48L2c+PCEtLWxpbmsgbSB0byB0aHJlYWQtLT48ZyBpZD0ibGlua19tX3RocmVhZCI+PHBhdGggZD0iTTMxLDEzOS4yNDEgQzMxLDE1Ni4yMDIgMzEsMTgxLjk0NSAzMSwxOTguODY4ICIgZmlsbD0ibm9uZSIgaWQ9Im0tdGhyZWFkIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLWxpbmsgdGhyZWFkIHRvIGNwdS0tPjxnIGlkPSJsaW5rX3RocmVhZF9jcHUiPjxwYXRoIGQ9Ik0zMSwyMzUuMjQxIEMzMSwyNTIuMjAxNyAzMSwyNzcuOTQ1NSAzMSwyOTQuODY4MyAiIGZpbGw9Im5vbmUiIGlkPSJ0aHJlYWQtY3B1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLVNSQz1bQXFmREJhZENJeXo5TEwwQUs1OThCNU9ldTJmMjJGYzJYTkFIWFQ4RG02QmYxWVkyNDM1M0I2OTZNQ0lDYVNNVXh6aF9WNEt0TUE4YWVvV3JDR0xQcVphVzUyb0pONTNBbkxNSU1HOElLLUJZQWIzR3FvdEFKQ3llcUdMUGNjd2UwRVNQU1FLUjhOWjY4QU13QVZkYlVSZjBOLUdZd0pCVzBkQVhDYjFoOEhIQzQ2V1owMDAwXS0tPjwvZz48L3N2Zz4=">
<p>当执行编写的Go代码时，Go会将运行上下文封装成G，等待运行的G会在P中排队，协程调度时，从P中获取到可运行的G，g0再将执行权让渡给G，然后进入用户代码逻辑。</p>
<a id="more"></a>
<h2 id="P与G"><a href="#P与G" class="headerlink" title="P与G"></a>P与G</h2><p>可运行G通过队列的方式保存于P中，P维护一份最大长度为256的本地队列，已退出的G也会保存到P中，待创建新的G时再次使用。</p>
<h3 id="G的创建"><a href="#G的创建" class="headerlink" title="G的创建"></a>G的创建</h3><p>G的创建采用<code>go</code>关键字实现。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 代码逻辑</span></span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>
<p>在编译过程中会将<code>go</code>关键字的操作，转换成调用<code>runtime.newproc()</code>函数的逻辑，然后通过<code>runtime.newproc1()</code>函数创建并初始化<code>g</code>结构，再回到<code>runtime.newproc()</code>函数，通过调用<code>runtime.runqput()</code>函数将新创建的G保存至本地队列中。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Create a new g running fn.</span></span><br><span class="line"><span class="comment">// Put it on the queue of g's waiting to run.</span></span><br><span class="line"><span class="comment">// The compiler turns a go statement into a call to this.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newproc</span><span class="params">(fn *funcval)</span></span> &#123;</span><br><span class="line">	gp := getg()</span><br><span class="line">	pc := getcallerpc()</span><br><span class="line">	systemstack(<span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		newg := newproc1(fn, gp, pc)</span><br><span class="line"></span><br><span class="line">		_p_ := getg().m.p.ptr()</span><br><span class="line">		runqput(_p_, newg, <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> mainStarted &#123;</span><br><span class="line">			wakep()</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>备注：采用<code>go</code>关键字创建的G，会直接保存在本地队列中，并设置成下一个G，等待调度</strong></p>
<h2 id="P与M"><a href="#P与M" class="headerlink" title="P与M"></a>P与M</h2><p>P提供了各种运行G所需要的辅助资源，为可运行G提供了队列服务，但只有P又无法处理这些可运行的G，所以P还需要与M进行绑定，形成M+P的组合，由M提供运行资源，这样才能保证可运行G的顺利执行。</p>
<p>与P形成绑定关系的M都是Worker M，要启动一个Worker M，通常需要先找到一个可用的P(<strong>空闲的P或非空闲的P绑定到新的M</strong>)，将P与M进行绑定，之后M才能进入调度状态。<br><strong>调度过程中，可以通过<code>runtime.startm()</code>函数启动M，当存在空闲中的M时(休眠状态)，则唤醒休眠中的M，如果没有空闲的M，则需要创建新的M</strong></p>
<h2 id="m0-g0-p0"><a href="#m0-g0-p0" class="headerlink" title="m0/g0/p0"></a>m0/g0/p0</h2><p>Go内核中有两个特殊的变量<code>m0</code>与<code>g0</code>，定义在<code>src/runtime/proc.go</code>文件中，进程在启动后，主线程会从程序的入口开始执行，这是进程中的第一个线程，而基于第一个线程创建的M就是<code>m0</code>，因此在Go内核初始化过程中，会将第一个线程的运行环境保存到<code>m0</code>中，而相对的创建M时需要分配<code>g0</code>的操作，在<code>m0</code>这里，直接使用的全局变量<code>g0</code>。</p>
<p>在一系列的初始化过程中，会执行到<code>runtime.schedinit()</code>函数，而函数内部又会初始化一次P的数量，主要通过<code>runtime.procresize()</code>函数来实现，该函数内，又会判断当前M是否绑定P，如果没有绑定，则将<code>allp[0]</code>中的P与M进行绑定，其中全局变量<code>allp</code>保存着所有P的指针地址。</p>
<h2 id="P的数量"><a href="#P的数量" class="headerlink" title="P的数量"></a>P的数量</h2><p>P的数量一般都会设置成与CPU核数相等，Go内核在启动时会自动初始化。<br>在<code>runtime.osinit()</code>函数中获取当前操作系统的CPU核数，并在<code>runtime.schedinit()</code>函数中进行P初始化设置，同时在设置之前，会尝试读取环境变量<code>GOMAXPROCS</code>来覆盖CPU核数。</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">runtime</span>.osinit() <span class="comment">// 获取CPU核数</span></span><br><span class="line"><span class="keyword">runtime</span>.schedinit()</span><br></pre></td></tr></table></figure>
<p>除此之外，还可以在开发过程中，通过<code>runtime.GOMAXPROCS()</code>函数对P的数量进行设置。</p>
<h2 id="P的职责"><a href="#P的职责" class="headerlink" title="P的职责"></a>P的职责</h2><p>通过P结构体的定义与Go内核调度逻辑可见，P的核心工作是在调度中维护G与M的使用关系，一般情况下，G只有在P中排队，才能合理的使用到M的运行资源。<br>P负责维护一份可运行G的队列，另外还会维护一份已退出G的队列(状态为Gdead的协程)，除此之外，还会维护G在运行过程中需要分配的内存，defer结构等等，不同的细节在后续章节中再深入分析。</p>
</div><script type="text/javascript" src="/js/share.js?v=1.0.0" async></script><a class="article-share-link" data-url="https://oldchan.net/2022/08/15/notes/golang/advanced/p/" data-id="clcyms1ol002orsu3y7yxbjia" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACLElEQVR42u3aQW7DMAwF0dz/0u6mi25szSeVAqbGqyCxZT0VYEWRnw++rj/X8zf8V/LU5kuGDBmvZVyP19096STIyM9j3o0gQ4aMcxh3L7675/n1HM/D8WLOMmTIkIHvSUNn/70yZMiQUQu+PDTzhZAhQ4YMksSSp2opKx9nQy4uQ4aMFzL4qfv/f/5KfUOGDBmvYlzhtZfXn8/vaDJkyBjN4AGObxy/cpQGEmMZMmRMZZBS4nPYraWd6RIsYDJkyDiAUTsm6yfApLSAWjRkyJBxDKOWgtbaxXgwRQsnQ4aM4xn9gkHafrGhzUKGDBlDGXxytVYJHkzjLakMGTJGM2rDddqzOgdti6AsQ4aMwxhpkO0ktOkIQSVWhgwZIxhkchyWTou/cTFDGTJkjGbUjt5qk9vbbCFDhozTGLVksrbt65QigiRWhgwZgxhpw1baYJq2wPKDvMXfQYYMGYMYaR2wVuzsB+sAIEOGjKEMHgrJEtTCMf+m2BwmQ4aMEQzeKpEewPEAnf6XQD0jMmTIGMTgU+mUBGolz09/jWXIkDGOkcLIszzI8jR7EXBlyJAxgnGFV7ppq6W+abuGDBkyZjPSMNeh1lq+tm0cZciQ8XJGLRElJYTa+qUFCRkyZJzD4AlnumnrLxNaCBkyZMgIP3fCNFksGTJkyEgDLi8JpFN/fjvqGZEhQ8YgBtm6kV/TdJQf4S3eKEOGjNGMWurYqTbwhrP0OE+GDBnjGD+iJyy6Hsq+EwAAAABJRU5ErkJggg==">分享</a><div class="tags"><a href="/tags/golang/"><i class="fa fa-tag"></i>golang</a></div><div class="post-nav"><a class="pre" href="/2022/12/10/notes/golang/advanced/schedule/">Golang深度解读：调度</a><a class="next" href="/2022/07/24/notes/golang/advanced/m/">Golang深度解读：M</a></div><div id="tcomment"></div><script src="https://fastly.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js"></script><script>twikoo.init({
  envId: 'thecxx-1gxw7szk895715fd',
  el: '#tcomment',
  region: 'ap-shanghai',
  path: ''
})</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/容器/">容器</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/架构/">架构</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/笔记/">笔记</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/系统/">系统</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程/">编程</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/长话/">长话</a><span class="category-list-count">4</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/中间件/" style="font-size: 15px;">中间件</a> <a href="/tags/思考/" style="font-size: 15px;">思考</a> <a href="/tags/博客/" style="font-size: 15px;">博客</a> <a href="/tags/元宇宙/" style="font-size: 15px;">元宇宙</a> <a href="/tags/cpu/" style="font-size: 15px;">cpu</a> <a href="/tags/微服务/" style="font-size: 15px;">微服务</a> <a href="/tags/容器化/" style="font-size: 15px;">容器化</a> <a href="/tags/go/" style="font-size: 15px;">go</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/windows/" style="font-size: 15px;">windows</a> <a href="/tags/注入/" style="font-size: 15px;">注入</a> <a href="/tags/golang/" style="font-size: 15px;">golang</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2023/01/15/notes/golang/advanced/boot/">Golang深度解读：启动</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/10/notes/golang/advanced/schedule/">Golang深度解读：调度</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/08/15/notes/golang/advanced/p/">Golang深度解读：P</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/24/notes/golang/advanced/m/">Golang深度解读：M</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/10/notes/golang/advanced/g0/">Golang深度解读：g0</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/10/notes/golang/advanced/list/">Golang深度解读</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/15/opinion/give_up_the_php/">6年前，决定不再继续精进PHP</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/05/05/opinion/good_product/">好的产品?</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/11/17/opinion/internet_and_metaverse/">互联网络与元宇宙</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/18/arch/microservice/service/">微服务</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2023 <a href="/." rel="nofollow">KAMI.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//fastly.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="//fastly.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/prettify.js?v=1.0.0"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script><script type="text/javascript" src="/js/codeblock-render.js?v=1.0.0"></script></div></body></html>