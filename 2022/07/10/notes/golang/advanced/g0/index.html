<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="士不可以不弘毅，任重而道远。"><title>Golang深度解读：g0 | KAMI</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//fastly.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//fastly.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//fastly.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//fastly.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="/css/prettify/prettify.css"><script type="text/javascript" src="//fastly.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//fastly.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//fastly.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//fastly.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Golang深度解读：g0</h1><a id="logo" href="/.">KAMI</a><p class="description">士不可以不弘毅，任重而道远。</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/guestbook/"><i class="fa fa-book"> 留言</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Golang深度解读：g0</h1><div class="post-meta">Jul 10 2022<span> | </span><span class="category"><a href="/categories/笔记/">笔记</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 772</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 3</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#反复重用的栈帧"><span class="toc-number">1.</span> <span class="toc-text">反复重用的栈帧</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#优先提高并行度"><span class="toc-number">2.</span> <span class="toc-text">优先提高并行度</span></a></li></ol></div></div><div class="post-content"><p>g0是Go语言中一种特殊协程，每个M都拥有一个g0协程，主要负责当前M上用户协程的调度工作，在执行<code>runtime.newm()</code>函数创建M时，会同时初始化g0协程。</p>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIxODJweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjQwNnB4O2hlaWdodDoxODJweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0MDYgMTgyIiB3aWR0aD0iNDA2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM3IiB4PSIxMjcuNzUiIHk9IjIyLjk5NTEiPmcwLU0tcC1nL2cvZy9nLy4uLjwvdGV4dD48IS0tZW50aXR5IG0tLT48ZyBpZD0iZWxlbV9tIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjMyIiB4PSIxMCIgeT0iNDQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyIiB4PSIyMCIgeT0iNjcuMjkyIj5NPC90ZXh0PjwvZz48IS0tZW50aXR5IHAtLT48ZyBpZD0iZWxlbV9wIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI5IiB4PSI3Ny41IiB5PSI0NC4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOSIgeD0iODcuNSIgeT0iNjcuMjkyIj5QPC90ZXh0PjwvZz48IS0tZW50aXR5IGcwLS0+PGcgaWQ9ImVsZW1fZzAiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMzgiIHg9IjciIHk9IjE0MC4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgiIHg9IjE3IiB5PSIxNjMuMjkyIj5nMDwvdGV4dD48L2c+PCEtLWVudGl0eSBnMS0tPjxnIGlkPSJlbGVtX2cxIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjM4IiB4PSIxNDIiIHk9IjQ0LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOCIgeD0iMTUyIiB5PSI2Ny4yOTIiPmcxPC90ZXh0PjwvZz48IS0tZW50aXR5IGcyLS0+PGcgaWQ9ImVsZW1fZzIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMzciIHg9IjIxNS41IiB5PSI0NC4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTciIHg9IjIyNS41IiB5PSI2Ny4yOTIiPmcyPC90ZXh0PjwvZz48IS0tZW50aXR5IGczLS0+PGcgaWQ9ImVsZW1fZzMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMzgiIHg9IjI4OCIgeT0iNDQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4IiB4PSIyOTgiIHk9IjY3LjI5MiI+ZzM8L3RleHQ+PC9nPjwhLS1lbnRpdHkgZ04tLT48ZyBpZD0iZWxlbV9nTiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIzOSIgeD0iMzYxLjUiIHk9IjQ0LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOSIgeD0iMzcxLjUiIHk9IjY3LjI5MiI+Z048L3RleHQ+PC9nPjwhLS1saW5rIG0gdG8gZzAtLT48ZyBpZD0ibGlua19tX2cwIj48cGF0aCBkPSJNMjYsODAuNTM3OSBDMjYsOTcuNDk4NiAyNiwxMjMuMjQyNCAyNiwxNDAuMTY1MiAiIGZpbGw9Im5vbmUiIGlkPSJtLWcwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLWxpbmsgbSB0byBwLS0+PGcgaWQ9ImxpbmtfbV9wIj48cGF0aCBkPSJNNDIuMjQyMiw2Mi4yOTY5IEM1My45MDQyLDYyLjI5NjkgNjUuNTY2Miw2Mi4yOTY5IDc3LjIyODEsNjIuMjk2OSAiIGZpbGw9Im5vbmUiIGlkPSJtLXAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48L2c+PCEtLWxpbmsgcCB0byBnMS0tPjxnIGlkPSJsaW5rX3BfZzEiPjxwYXRoIGQ9Ik0xMDYuNTU0Nyw2Mi4yOTY5IEMxMTYuNTc2LDYyLjI5NjkgMTI2LjU5Nyw2Mi4yOTY5IDEzNi42MTksNjIuMjk2OSAiIGZpbGw9Im5vbmUiIGlkPSJwLXRvLWcxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE0MS44NTksNjIuMjk2OSwxMzIuODU5LDU4LjI5NjksMTM2Ljg1OSw2Mi4yOTY5LDEzMi44NTksNjYuMjk2OSwxNDEuODU5LDYyLjI5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tbGluayBnMSB0byBnMi0tPjxnIGlkPSJsaW5rX2cxX2cyIj48cGF0aCBkPSJNMTgwLjEwNSw2Mi4yOTY5IEMxOTAuMTQ1LDYyLjI5NjkgMjAwLjE4NCw2Mi4yOTY5IDIxMC4yMjQsNjIuMjk2OSAiIGZpbGw9Im5vbmUiIGlkPSJnMS10by1nMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMTUuNDc0LDYyLjI5NjksMjA2LjQ3NCw1OC4yOTY5LDIxMC40NzQsNjIuMjk2OSwyMDYuNDc0LDY2LjI5NjksMjE1LjQ3NCw2Mi4yOTY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLWxpbmsgZzIgdG8gZzMtLT48ZyBpZD0ibGlua19nMl9nMyI+PHBhdGggZD0iTTI1Mi41MzUsNjIuMjk2OSBDMjYyLjU2LDYyLjI5NjkgMjcyLjU4NSw2Mi4yOTY5IDI4Mi42MSw2Mi4yOTY5ICIgZmlsbD0ibm9uZSIgaWQ9ImcyLXRvLWczIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI4Ny44NTIsNjIuMjk2OSwyNzguODUyLDU4LjI5NjksMjgyLjg1Miw2Mi4yOTY5LDI3OC44NTIsNjYuMjk2OSwyODcuODUyLDYyLjI5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tbGluayBnMyB0byBnTi0tPjxnIGlkPSJsaW5rX2czX2dOIj48cGF0aCBkPSJNMzI2LjA3OCw2Mi4yOTY5IEMzMzYuMDY1LDYyLjI5NjkgMzQ2LjA1Myw2Mi4yOTY5IDM1Ni4wNCw2Mi4yOTY5ICIgZmlsbD0ibm9uZSIgaWQ9ImczLXRvLWdOIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNjEuMjYyLDYyLjI5NjksMzUyLjI2Miw1OC4yOTY5LDM1Ni4yNjIsNjIuMjk2OSwzNTIuMjYyLDY2LjI5NjksMzYxLjI2Miw2Mi4yOTY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLVNSQz1bTFN2QjJlS20zME5HVUxPSEVhLXJ4VG1UTURvMmc0SjFKd2M1al9yZHBTMk1aRXU5OEpTa0tuZkZ0WFRLbFNCbm5XRllIeURCZUlIa04tRXNHWURlQWhJMmphOGR3MmhxV1h1V1JLYy1LNC0xazk3SE1ZazAwbjVmbGR1ZHZWU3ZRT2VSaHVkbXdIWm9MY0FOY3gwZmltTXNQTlIweGhqX21GeTFdLS0+PC9nPjwvc3ZnPg==">
<a id="more"></a>
<p>g0协程执行时使用系统栈，每个线程从启动开始往下执行，都属于g0的工作范围，直到运行至<code>runtime.gogo()</code>启动用户协程，g0的工作才算暂时告一段落。</p>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIzOTNweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjg4MHB4O2hlaWdodDozOTNweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA4ODAgMzkzIiB3aWR0aD0iODgwcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIwIiB4PSIzNzMiIHk9IjIyLjk5NTEiPueyvueugOeJiOiwg+W6pua1geeoi+WbvjwvdGV4dD48IS0tZW50aXR5IG1zdGFydC0tPjxnIGlkPSJlbGVtX21zdGFydCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMzEiIHg9IjciIHk9IjE1Ny4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExIiB4PSIxNyIgeT0iMTgwLjI5MiI+cnVudGltZS5tc3RhcnQ8L3RleHQ+PC9nPjwhLS1lbnRpdHkgbXN0YXJ0MC0tPjxnIGlkPSJlbGVtX21zdGFydDAiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTQwIiB4PSIxNzMuNSIgeT0iMTU3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjAiIHg9IjE4My41IiB5PSIxODAuMjkyIj5ydW50aW1lLm1zdGFydDA8L3RleHQ+PC9nPjwhLS1lbnRpdHkgbXN0YXJ0MS0tPjxnIGlkPSJlbGVtX21zdGFydDEiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTQwIiB4PSIzNDguNSIgeT0iMTU3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjAiIHg9IjM1OC41IiB5PSIxODAuMjkyIj5ydW50aW1lLm1zdGFydDE8L3RleHQ+PC9nPjwhLS1lbnRpdHkgc2NoZWR1bGUtLT48ZyBpZD0iZWxlbV9zY2hlZHVsZSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNDUiIHg9IjUyNCIgeT0iMTU3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUiIHg9IjUzNCIgeT0iMTgwLjI5MiI+cnVudGltZS5zY2hlZHVsZTwvdGV4dD48L2c+PCEtLWVudGl0eSBnbG9icnVucWdldC0tPjxnIGlkPSJlbGVtX2dsb2JydW5xZ2V0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE3MSIgeD0iMjA5IiB5PSI0NC4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUxIiB4PSIyMTkiIHk9IjY3LjI5MiI+cnVudGltZS5nbG9icnVucWdldDwvdGV4dD48L2c+PCEtLWVudGl0eSBydW5xZ2V0LS0+PGcgaWQ9ImVsZW1fcnVucWdldCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMzkiIHg9IjUyNyIgeT0iNDQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExOSIgeD0iNTM3IiB5PSI2Ny4yOTIiPnJ1bnRpbWUucnVucWdldDwvdGV4dD48L2c+PCEtLWVudGl0eSBmaW5kcnVubmFibGUtLT48ZyBpZD0iZWxlbV9maW5kcnVubmFibGUiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTczIiB4PSI3MDEiIHk9IjQ0LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTMiIHg9IjcxMSIgeT0iNjcuMjkyIj5ydW50aW1lLmZpbmRydW5uYWJsZTwvdGV4dD48L2c+PCEtLWVudGl0eSBleGVjdXRlLS0+PGcgaWQ9ImVsZW1fZXhlY3V0ZSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNDAiIHg9IjcwNC41IiB5PSIxNTcuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMCIgeD0iNzE0LjUiIHk9IjE4MC4yOTIiPnJ1bnRpbWUuZXhlY3V0ZTwvdGV4dD48L2c+PCEtLWVudGl0eSBnb2dvLS0+PGcgaWQ9ImVsZW1fZ29nbyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTgiIHg9IjcxMy41IiB5PSIyNTQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk4IiB4PSI3MjMuNSIgeT0iMjc3LjI5MiI+cnVudGltZS5nb2dvPC90ZXh0PjwvZz48IS0tZW50aXR5IGxvZ2ljYWwtLT48ZyBpZD0iZWxlbV9sb2dpY2FsIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEzMiIgeD0iNzA2LjUiIHk9IjM1MS4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEyIiB4PSI3MTYuNSIgeT0iMzc0LjI5MiI+55So5oi35Luj56CB6YC76L6R6YOo5YiGPC90ZXh0PjwvZz48IS0tZW50aXR5IEdvc2NoZWQtLT48ZyBpZD0iZWxlbV9Hb3NjaGVkIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE0NCIgeD0iNTI3LjUiIHk9IjM1MS4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI0IiB4PSI1MzcuNSIgeT0iMzc0LjI5MiI+cnVudGltZS5Hb3NjaGVkPC90ZXh0PjwvZz48IS0tZW50aXR5IG1jYWxsLS0+PGcgaWQ9ImVsZW1fbWNhbGwiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTIwIiB4PSI1MzkuNSIgeT0iMjU0LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDAiIHg9IjU0OS41IiB5PSIyNzcuMjkyIj5ydW50aW1lLm1jYWxsPC90ZXh0PjwvZz48IS0tbGluayBtc3RhcnQgdG8gbXN0YXJ0MC0tPjxnIGlkPSJsaW5rX21zdGFydF9tc3RhcnQwIj48cGF0aCBkPSJNMTM4LjI5NSwxNzUuMjk2OSBDMTQ4LjIxLDE3NS4yOTY5IDE1OC4xMjYsMTc1LjI5NjkgMTY4LjA0MSwxNzUuMjk2OSAiIGZpbGw9Im5vbmUiIGlkPSJtc3RhcnQtdG8tbXN0YXJ0MCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNzMuMjI2LDE3NS4yOTY5LDE2NC4yMjYsMTcxLjI5NjksMTY4LjIyNiwxNzUuMjk2OSwxNjQuMjI2LDE3OS4yOTY5LDE3My4yMjYsMTc1LjI5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tbGluayBtc3RhcnQwIHRvIG1zdGFydDEtLT48ZyBpZD0ibGlua19tc3RhcnQwX21zdGFydDEiPjxwYXRoIGQ9Ik0zMTMuNTY4LDE3NS4yOTY5IEMzMjMuNDU4LDE3NS4yOTY5IDMzMy4zNDgsMTc1LjI5NjkgMzQzLjIzNywxNzUuMjk2OSAiIGZpbGw9Im5vbmUiIGlkPSJtc3RhcnQwLXRvLW1zdGFydDEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzQ4LjQwOSwxNzUuMjk2OSwzMzkuNDA5LDE3MS4yOTY5LDM0My40MDksMTc1LjI5NjksMzM5LjQwOSwxNzkuMjk2OSwzNDguNDA5LDE3NS4yOTY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLWxpbmsgbXN0YXJ0MSB0byBzY2hlZHVsZS0tPjxnIGlkPSJsaW5rX21zdGFydDFfc2NoZWR1bGUiPjxwYXRoIGQ9Ik00ODguNzI3LDE3NS4yOTY5IEM0OTguNjQ1LDE3NS4yOTY5IDUwOC41NjQsMTc1LjI5NjkgNTE4LjQ4MiwxNzUuMjk2OSAiIGZpbGw9Im5vbmUiIGlkPSJtc3RhcnQxLXRvLXNjaGVkdWxlIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjUyMy42NjksMTc1LjI5NjksNTE0LjY2OSwxNzEuMjk2OSw1MTguNjY5LDE3NS4yOTY5LDUxNC42NjksMTc5LjI5NjksNTIzLjY2OSwxNzUuMjk2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgZmluZHJ1bm5hYmxlIHRvIHNjaGVkdWxlLS0+PGcgaWQ9ImxpbmtfZmluZHJ1bm5hYmxlX3NjaGVkdWxlIj48cGF0aCBkPSJNNzY2LjY4OSw4NC4yNzc5IEM3NTIuMzc5LDk3Ljg1NzkgNzMyLjQyNywxMTUuMTk2OSA3MTIuNSwxMjcuMjk2OSBDNjkyLjcxOSwxMzkuMzA3OSA2NjkuMzIxLDE0OS40NTg5IDY0OC43MzgsMTU3LjIxOTkgIiBmaWxsPSJub25lIiBpZD0iZmluZHJ1bm5hYmxlLWJhY2t0by1zY2hlZHVsZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3NzAuNTcxLDgwLjU1NDksNzYxLjMwNyw4My44OTg0LDc2Ni45NjI3LDg0LjAxNjEsNzY2Ljg0NSw4OS42NzE3LDc3MC41NzEsODAuNTU0OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODUiIHg9IjczNi41IiB5PSIxMjMuMzYzOCI+My7mn6Xmib7lj6/miafooYxnPC90ZXh0PjwvZz48IS0tcmV2ZXJzZSBsaW5rIHJ1bnFnZXQgdG8gc2NoZWR1bGUtLT48ZyBpZD0ibGlua19ydW5xZ2V0X3NjaGVkdWxlIj48cGF0aCBkPSJNNTk2LjUsODUuNzY5OSBDNTk2LjUsMTA2Ljg0MjkgNTk2LjUsMTM3LjkwMDkgNTk2LjUsMTU3LjA3NDkgIiBmaWxsPSJub25lIiBpZD0icnVucWdldC1iYWNrdG8tc2NoZWR1bGUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTk2LjUsODAuNjQwOSw1OTIuNSw4OS42NDA5LDU5Ni41LDg1LjY0MDksNjAwLjUsODkuNjQwOSw1OTYuNSw4MC42NDA5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYiIHg9IjU5Ny41IiB5PSIxMjMuMzYzOCI+Mi7ku47mnKzlnLBw5Lit6I635Y+WZzwvdGV4dD48L2c+PCEtLXJldmVyc2UgbGluayBnbG9icnVucWdldCB0byBzY2hlZHVsZS0tPjxnIGlkPSJsaW5rX2dsb2JydW5xZ2V0X3NjaGVkdWxlIj48cGF0aCBkPSJNMzAwLjAxOSw4NS41OTc5IEMzMDQuNyw5OS43NTA5IDMxMi44ODgsMTE3LjIzMzkgMzI2LjUsMTI3LjI5NjkgQzM5MS4zNjUsMTc1LjI0OTkgNDI2LjA3MiwxNDMuMjIyOSA1MDUuNSwxNTcuMjk2OSBDNTExLjM1NSwxNTguMzM0OSA1MTcuNDE5LDE1OS40MjY5IDUyMy41MDksMTYwLjUzNzkgIiBmaWxsPSJub25lIiBpZD0iZ2xvYnJ1bnFnZXQtYmFja3RvLXNjaGVkdWxlIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI5OC40NSw4MC41NTM5LDI5Ny4zMDU3LDkwLjMzNiwyOTkuOTM2MSw4NS4zMjc5LDMwNC45NDQyLDg3Ljk1ODMsMjk4LjQ1LDgwLjU1MzkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2MCIgeD0iMzI3LjUiIHk9IjEyMy4zNjM4Ij4xLuavj+aJp+ihjDYx5qyhZ+aXtu+8jOWImeS7juWFqOWxgOmYn+WIl+S4reiOt+WPljHmrKFnPC90ZXh0PjwvZz48IS0tbGluayBzY2hlZHVsZSB0byBleGVjdXRlLS0+PGcgaWQ9Imxpbmtfc2NoZWR1bGVfZXhlY3V0ZSI+PHBhdGggZD0iTTY2OS4xNiwxNzUuMjk2OSBDNjc5LjA4OCwxNzUuMjk2OSA2ODkuMDE2LDE3NS4yOTY5IDY5OC45NDUsMTc1LjI5NjkgIiBmaWxsPSJub25lIiBpZD0ic2NoZWR1bGUtdG8tZXhlY3V0ZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3MDQuMTM2LDE3NS4yOTY5LDY5NS4xMzYsMTcxLjI5NjksNjk5LjEzNiwxNzUuMjk2OSw2OTUuMTM2LDE3OS4yOTY5LDcwNC4xMzYsMTc1LjI5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tbGluayBleGVjdXRlIHRvIGdvZ28tLT48ZyBpZD0ibGlua19leGVjdXRlX2dvZ28iPjxwYXRoIGQ9Ik03NzQuMTMzLDE5My43MjA5IEM3NzMuODA2LDIwOS4yNTU5IDc3My4zMjYsMjMyLjA3OTkgNzcyLjk3LDI0OC45NTE5ICIgZmlsbD0ibm9uZSIgaWQ9ImV4ZWN1dGUtdG8tZ29nbyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3NzIuODY1LDI1My45ODI5LDc3Ny4wNTQ0LDI0NS4wNjk1LDc3Mi45NzA3LDI0OC45ODQsNzY5LjA1NjIsMjQ0LjkwMDMsNzcyLjg2NSwyNTMuOTgyOSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1saW5rIGdvZ28gdG8gbG9naWNhbC0tPjxnIGlkPSJsaW5rX2dvZ29fbG9naWNhbCI+PHBhdGggZD0iTTc3Mi41LDI5MC43MjE0IEM3NzIuNSwzMDYuMjU1NCA3NzIuNSwzMjkuMDc5OCA3NzIuNSwzNDUuOTUyMyAiIGZpbGw9Im5vbmUiIGlkPSJnb2dvLXRvLWxvZ2ljYWwiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzcyLjUsMzUwLjk4MjksNzc2LjUsMzQxLjk4MjksNzcyLjUsMzQ1Ljk4MjksNzY4LjUsMzQxLjk4MjksNzcyLjUsMzUwLjk4MjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tcmV2ZXJzZSBsaW5rIEdvc2NoZWQgdG8gbG9naWNhbC0tPjxnIGlkPSJsaW5rX0dvc2NoZWRfbG9naWNhbCI+PHBhdGggZD0iTTY3Ni45NDYsMzY5LjI5NjkgQzY4Ni43NzEsMzY5LjI5NjkgNjk2LjU5NiwzNjkuMjk2OSA3MDYuNDIxLDM2OS4yOTY5ICIgZmlsbD0ibm9uZSIgaWQ9Ikdvc2NoZWQtYmFja3RvLWxvZ2ljYWwiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjcxLjgwOSwzNjkuMjk2OSw2ODAuODA5LDM3My4yOTY5LDY3Ni44MDksMzY5LjI5NjksNjgwLjgwOSwzNjUuMjk2OSw2NzEuODA5LDM2OS4yOTY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLXJldmVyc2UgbGluayBtY2FsbCB0byBHb3NjaGVkLS0+PGcgaWQ9ImxpbmtfbWNhbGxfR29zY2hlZCI+PHBhdGggZD0iTTU5OS41LDI5NS43NjE3IEM1OTkuNSwzMTIuNjYyNCA1OTkuNSwzMzUuNDgzNSA1OTkuNSwzNTAuOTgyOSAiIGZpbGw9Im5vbmUiIGlkPSJtY2FsbC1iYWNrdG8tR29zY2hlZCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1OTkuNSwyOTAuNzIxNCw1OTUuNSwyOTkuNzIxNCw1OTkuNSwyOTUuNzIxNCw2MDMuNSwyOTkuNzIxNCw1OTkuNSwyOTAuNzIxNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgc2NoZWR1bGUgdG8gbWNhbGwtLT48ZyBpZD0ibGlua19zY2hlZHVsZV9tY2FsbCI+PHBhdGggZD0iTTU5Ny4yMDksMTk4Ljc2MTkgQzU5Ny43NDMsMjE1LjY2MTkgNTk4LjQ2NCwyMzguNDgzOSA1OTguOTUzLDI1My45ODI5ICIgZmlsbD0ibm9uZSIgaWQ9InNjaGVkdWxlLWJhY2t0by1tY2FsbCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1OTcuMDUsMTkzLjcyMDksNTkzLjMzNDksMjAyLjg0MjIsNTk3LjIwNzIsMTk4LjcxODQsNjAxLjMzMDksMjAyLjU5MDcsNTk3LjA1LDE5My43MjA5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLVNSQz1bVkxCQkppOTA1RHR0QW9SaVFRV2NCYll1ekpqQTZLZ0pxY0FQSGZTR2VZY0hHNG9DUTJIMU9qR2tLRDE0Q01Cd0RTb3FoRm01b3BuOElHUGRDVlRDcHhidHhqbkozbmY4VHFtUldmcGRFeVlnR1JOTUdCZzdTYTFsMDBPTFJ2VWVhNTRMVGlrcVo0b0pvSGY2NVBQejZyQVRFQ1k0ZmtzTUtkbmlHalBXdllvSlB3Tl9vMmdNS3F3bmV2VHUyemFGaVdIdTJXcVZDSXQ3cWN2VHFzTGpmWTBoWUF6MjRpb05ZdVZ1bGhMZ0JmQmVTaktFU04xRW5SUGhNZVBrb21lVWtOR3VMQ1FuVEVmZmtpcmNsYVFBV1luNGh0c0Z1alRjdDBjSU1Ial9GdjZGTFhuVXVCaWVmb1pDNzQxTnRoRkNBaWVWUmVwYktLUGdkRElzb09zNzBiM01od1NLczlmazRVb2hQRkg4RVg3a0pxZGRFSGJ0Sk1hSWp3eTh6akpiZWFVNjRwb1NyUFRWQnFibFpsbE55ZnBDdHI0NGNhZ2NWTlIzV0tPY092Q0NGZHpfa1pZdUpVbFhpbjJfRExTdDhubUNEYU1mUWhrbVU5eW1kS1ZzLUI5eHVnR1NETmt6MFJ1NDhPcGJhTjRzaEFtQjJaVHYxRGJkQzFGZkJZZm9IbEpzMW0wMF0tLT48L2c+PC9zdmc+">
<p>如图所示，Go语言中的协程调度总是不断地经历着类似的循环，以<code>runtime.Gosched()</code>让出调度的流程举例。</p>
<p>当M创建之后，会同时初始化g0，运行在不同的平台上时，程序兼容各平台特性，最终执行到<code>runtime.mstart()</code>正式启动g0的调度逻辑，再经过<code>runtime.mstart1()</code>进入到调度循环中，由<code>runtime.gogo()</code>启动用户协程，在用户逻辑中执行<code>runtime.Gosched()</code>让出执行权限，再经过<code>runtime.mcall()</code>回到g0的工作范围(<strong>这条流程下，刚刚执行过的协程会被放到全局队列中</strong>)。</p>
<h2 id="反复重用的栈帧"><a href="#反复重用的栈帧" class="headerlink" title="反复重用的栈帧"></a>反复重用的栈帧</h2><p>调度技术上，有不少细节的设计很有技巧，其中一个就是对于g0栈帧的管理。</p>
<p>g0采用的是无限递归的方式重复运行调度逻辑，正常的程序执行路径都是保存在栈内，按正常程序的编译结果，g0的协程栈会无限膨胀直到移除，因此Go语言对这里进行了一些优化，当执行到<code>runtime.mstart1()</code>时，g0会提前计算出一份协程栈的地址数据，保存在g0的结构中。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_g_<span class="selector-class">.sched</span><span class="selector-class">.pc</span> = getcallerpc()</span><br><span class="line">_g_<span class="selector-class">.sched</span><span class="selector-class">.sp</span> = getcallersp()</span><br></pre></td></tr></table></figure></p>
<p>当g0执行到<code>runtime.gogo()</code>切换至用户协程时，并不会将当前g0的栈帧保存起来，而当用户协程经过<code>runtime.mcall()</code>回到g0时，再次加载的还是最初在<code>runtime.mstart1()</code>中计算出来的栈地址数据，通过这种技巧，反复将栈顶指针重置，从而实现栈帧的重复使用。</p>
<figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">TEXT runtime·mcall&lt;ABIInternal&gt;(SB), <span class="built_in">NOSPLIT</span>, <span class="number">$0</span>-<span class="number">8</span></span><br><span class="line">	<span class="keyword">MOVQ</span>	<span class="built_in">AX</span>, <span class="built_in">DX</span>	// <span class="built_in">DX</span> = fn</span><br><span class="line"></span><br><span class="line">	// save state <span class="keyword">in</span> g-&gt;sched</span><br><span class="line">	<span class="keyword">MOVQ</span>	<span class="number">0</span>(<span class="built_in">SP</span>), <span class="built_in">BX</span>	// caller<span class="string">'s PC</span></span><br><span class="line"><span class="string">	MOVQ	BX, (g_sched+gobuf_pc)(R14)</span></span><br><span class="line"><span class="string">	LEAQ	fn+0(FP), BX	// caller'</span>s <span class="built_in">SP</span></span><br><span class="line">	<span class="keyword">MOVQ</span>	<span class="built_in">BX</span>, (g_sched+gobuf_sp)(<span class="built_in">R14</span>)</span><br><span class="line">	<span class="keyword">MOVQ</span>	<span class="built_in">BP</span>, (g_sched+gobuf_bp)(<span class="built_in">R14</span>)</span><br><span class="line"></span><br><span class="line">	// switch to m-&gt;g0 &amp; its stack, <span class="keyword">call</span> fn</span><br><span class="line">	<span class="keyword">MOVQ</span>	g_m(<span class="built_in">R14</span>), <span class="built_in">BX</span></span><br><span class="line">	<span class="keyword">MOVQ</span>	m_g0(<span class="built_in">BX</span>), <span class="built_in">SI</span>	// <span class="built_in">SI</span> = g.m.g0</span><br><span class="line">	CMPQ	<span class="built_in">SI</span>, <span class="built_in">R14</span>	// if g == m-&gt;g0 <span class="keyword">call</span> badmcall</span><br><span class="line">	<span class="keyword">JNE</span>	goodm</span><br><span class="line">	<span class="keyword">JMP</span>	runtime·badmcall(SB)</span><br><span class="line"><span class="symbol">goodm:</span></span><br><span class="line">	<span class="keyword">MOVQ</span>	<span class="built_in">R14</span>, <span class="built_in">AX</span>		// <span class="built_in">AX</span> (<span class="keyword">and</span> arg <span class="number">0</span>) = g</span><br><span class="line">	<span class="keyword">MOVQ</span>	<span class="built_in">SI</span>, <span class="built_in">R14</span>		// g = g.m.g0</span><br><span class="line">	get_tls(<span class="built_in">CX</span>)		// Set G <span class="keyword">in</span> TLS</span><br><span class="line">	<span class="keyword">MOVQ</span>	<span class="built_in">R14</span>, g(<span class="built_in">CX</span>)</span><br><span class="line">	<span class="keyword">MOVQ</span>	(g_sched+gobuf_sp)(<span class="built_in">R14</span>), <span class="built_in">SP</span>	// <span class="built_in">sp</span> = g0.sched.sp</span><br><span class="line">	PUSHQ	<span class="built_in">AX</span>	// open <span class="meta">up</span> space for fn<span class="string">'s arg spill slot</span></span><br><span class="line"><span class="string">	MOVQ	0(DX), R12</span></span><br><span class="line"><span class="string">	CALL	R12		// fn(g)</span></span><br><span class="line"><span class="string">	POPQ	AX</span></span><br><span class="line"><span class="string">	JMP	runtime·badmcall2(SB)</span></span><br><span class="line"><span class="string">	RET</span></span><br></pre></td></tr></table></figure>
<h2 id="优先提高并行度"><a href="#优先提高并行度" class="headerlink" title="优先提高并行度"></a>优先提高并行度</h2><p>Worker角色的M被创建时，默认都需要再创建另一个新的M，直至没有空闲的p为止。</p>
<p>这块的处理流程是每创建一个M，在执行调度时，如果当前M中<code>spinning</code>成员被标记为<code>true</code>，则尝试创建另一个M，采用全局变量<code>sched.nmspinning</code>控制创建流程，实现M的顺序创建。</p>
</div><script type="text/javascript" src="/js/share.js?v=1.0.0" async></script><a class="article-share-link" data-url="https://oldchan.net/2022/07/10/notes/golang/advanced/g0/" data-id="clcvkyfda002m96u3g4imzc36" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACJklEQVR42u3aMZLCMAwFUO5/6WyzxRaL+ZIdZmI/VwwJiV4jJFuvV7yu4Rrf//eb5PO7Zy5YGBgYj2UkIV7Bqr4lB0dvxMDAOIDx7sXVtDgO4t0bk3T8IWYMDAyMgDFOu9WyEgMDA2OGkQeXgPMyEQMDAyMJaD4R5+3xjb04BgbGAxn5rvv3P99yvoGBgfEoxlVcSWLtlXq9eH6fhoGBsTUjT3C9Lf5lW2nBMAcGBsYJjOq4Q3UwYlUbXJBhYGBsxEiSY7WMi1JkcHUmuWNgYOzByBNotUzsjZH1ykQMDIy9Gat488k3/08owDAwMLZjjMPKS8Ne2ZcPZ5TPWjEwMDZilDfih4my2pTe2ItjYGA8nJHclLey1eY2v/rhewwMjGMYSRq9Y6tuQSrHwMA4gHHf0eN9wxYYGBinMXrb8ePjgepGXtJVR00sBgbGdowk9PwAIN9Wm3/LP1cxMDA2ZfS2xpIxi+SAYdmwBQYGxtaMPOHmQeSjEklxWRjUwMDAOIZRHZWYKemSJrZcIGJgYGzNGCfTmfa1OhzW+zPAwMA4gdH8cbytnyfZ5AlRhYuBgbEF4yqu+SGMO1plDAyMvRm9NJfD5ke+eoUjBgbGfowkyVY393sHnL22GQMD4xxGteHMByaqZV8vWgwMDIyZo4JeYi1TMTAwMFqtabVM7A15YGBgnMPIRy6SpNkbY80baQwMjNMYM0MSvfGLJIi1rS8GBsZjGT/OVrwqkfGvAgAAAABJRU5ErkJggg==">分享</a><div class="tags"><a href="/tags/golang/"><i class="fa fa-tag"></i>golang</a></div><div class="post-nav"><a class="pre" href="/2022/07/24/notes/golang/advanced/m/">Golang深度解读：M</a><a class="next" href="/2022/07/10/notes/golang/advanced/list/">Golang深度解读</a></div><div id="tcomment"></div><script src="https://fastly.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js"></script><script>twikoo.init({
  envId: 'thecxx-1gxw7szk895715fd',
  el: '#tcomment',
  region: 'ap-shanghai',
  path: ''
})</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/容器/">容器</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/架构/">架构</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/笔记/">笔记</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/系统/">系统</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程/">编程</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/长话/">长话</a><span class="category-list-count">4</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/容器化/" style="font-size: 15px;">容器化</a> <a href="/tags/思考/" style="font-size: 15px;">思考</a> <a href="/tags/元宇宙/" style="font-size: 15px;">元宇宙</a> <a href="/tags/cpu/" style="font-size: 15px;">cpu</a> <a href="/tags/博客/" style="font-size: 15px;">博客</a> <a href="/tags/微服务/" style="font-size: 15px;">微服务</a> <a href="/tags/中间件/" style="font-size: 15px;">中间件</a> <a href="/tags/go/" style="font-size: 15px;">go</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/windows/" style="font-size: 15px;">windows</a> <a href="/tags/注入/" style="font-size: 15px;">注入</a> <a href="/tags/golang/" style="font-size: 15px;">golang</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2022/12/10/notes/golang/advanced/schedule/">Golang深度解读：调度</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/08/15/notes/golang/advanced/p/">Golang深度解读：P</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/24/notes/golang/advanced/m/">Golang深度解读：M</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/10/notes/golang/advanced/g0/">Golang深度解读：g0</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/10/notes/golang/advanced/list/">Golang深度解读</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/15/opinion/give_up_the_php/">6年前，决定不再继续精进PHP</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/05/05/opinion/good_product/">好的产品?</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/11/17/opinion/internet_and_metaverse/">互联网络与元宇宙</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/18/arch/microservice/service/">微服务</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/04/06/arch/middleware/configuration/">配置服务迁移</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2023 <a href="/." rel="nofollow">KAMI.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//fastly.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="//fastly.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/prettify.js?v=1.0.0"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script><script type="text/javascript" src="/js/codeblock-render.js?v=1.0.0"></script></div></body></html>